@startuml
skinparam monochrome true
skinparam padding 6
skinparam BackgroundColor white
skinparam participantBackgroundColor white
skinparam participantBorderColor black
skinparam ArrowColor black
skinparam SequenceLifeLineBorderColor black
skinparam SequenceGroupBackgroundColor white
skinparam SequenceGroupBorderColor black
skinparam participantPadding 15
skinparam ArrowThickness 2
skinparam Shadowing false
skinparam participantFontSize 11


User -> React: Click "ON" on Dashboard
React -> Node.js: PUT /api/iot/settings\n{mode: "manual", manual_relay_state: true}
Node.js -> MySQL: UPDATE sensor_data\n(mode: 'manual', manual_relay_state: true)
Node.js --> React: {success: true}

React --> React: Update UI (Mode: MANUAL, Relay ON)

note right
  ESP32 polls /api/iot/settings
  to get current mode and
  manual_relay_state
end note
@enduml
