@startuml
skinparam monochrome true
skinparam padding 6
skinparam BackgroundColor white
skinparam entityBackgroundColor white
skinparam entityBorderColor black
skinparam ArrowColor black
skinparam entityPadding 12
skinparam ArrowThickness 2
skinparam Shadowing false
skinparam entityFontSize 11
skinparam entityAttributeFontSize 10
skinparam linetype ortho
skinparam nodesep 30
skinparam ranksep 50

entity "users" as users {
  * id : INT <<PK>>
  --
  name : VARCHAR(100)
  email : VARCHAR(100) <<UNIQUE>>
  password : VARCHAR(255)
  role : ENUM('admin','user')
  createdAt : DATETIME
  updatedAt : DATETIME
}

entity "sensor_data" as sensor_data {
  * id : INT <<PK>>
  --
  lux : FLOAT
  relay_status : BOOLEAN
  mode : ENUM('auto','manual')
  threshold_low : INT
  threshold_high : INT
  manual_relay_state : BOOLEAN
  createdAt : DATETIME
  updatedAt : DATETIME
}

note right of sensor_data
  Menyimpan data sensor BH1750
  dan konfigurasi twilight switch
end note

note right of users
  Menyimpan data user
  untuk authentication
end note

@enduml
